{% extends 'admin.html' %}
{% block content %}
<script>
    function goToEditPage(id) {
        window.location.href = `edit/${id}/`;
    }
</script>
<script>
    function add_page() {
        window.location.href = `add`;
    }
</script>
            <div id="view">
                <div>
                    <h2 class="page_name">View</h2>
                    <div>
                        <button onclick="add_page()">Add</button>
                        <a href="{% url 'import_question' %}"><button>Import CSV</button></a>
                        <a href="{% url 'export_question' %}"><button>Export CSV</button></a>
                    </div>
                </div>
                <table >
                    <thead onclick="toggleTable('aero-table-container')">
                        <tr>
                            <th>Aero Question</th>
                            <th>Option a</th>
                            <th>Option b</th>
                            <th>Option c</th>
                            <th>Option d</th>
                            <th>Answer</th>
                            <th>Subject</th>
                        </tr>
                    </thead>
                    <tbody id="aero-table-container" style="display: none;">
                    {% for question in questions %}
                    {% if question.subject == 'AERO' %}
                    <tr onclick="goToEditPage('{{ question.id }}')">
                        <td>{{ question.text }}</td>
                        <td>{{ question.option_a }}</td>
                        <td>{{ question.option_b }}</td>
                        <td>{{ question.option_c }}</td>
                        <td>{{ question.option_d }}</td>
                        <td>{{ question.correct_answer }}</td>
                        <td>{{ question.subject }}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
                <table  >
                    <thead onclick="toggleTable('acrm-table-container')">
                        <tr>
                            <th>ACRM Question</th>
                            <th>Option a</th>
                            <th>Option b</th>
                            <th>Option c</th>
                            <th>Option d</th>
                            <th>Answer</th>
                            <th>Subject</th>
                        </tr>
                    </thead>
                    <tbody id="acrm-table-container" style="display: none;">
                    {% for question in questions %}
                    {% if question.subject == 'ACRM' %}
                    <tr onclick="goToEditPage('{{ question.id }}')">
                        <td>{{ question.text }}</td>
                        <td>{{ question.option_a }}</td>
                        <td>{{ question.option_b }}</td>
                        <td>{{ question.option_c }}</td>
                        <td>{{ question.option_d }}</td>
                        <td>{{ question.correct_answer }}</td>
                        <td>{{ question.subject }}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
                <table  >
                    <thead onclick="toggleTable('eemle-table-container')">
                        <tr>
                            <th>EEMLE Question</th>
                            <th>Option a</th>
                            <th>Option b</th>
                            <th>Option c</th>
                            <th>Option d</th>
                            <th>Answer</th>
                            <th>Subject</th>
                        </tr>
                    </thead>
                    <tbody id="eemle-table-container" style="display: none;">
                    {% for question in questions %}
                    {% if question.subject == 'EEMLE' %}
                    <tr onclick="goToEditPage('{{ question.id }}')">
                        <td>{{ question.text }}</td>
                        <td>{{ question.option_a }}</td>
                        <td>{{ question.option_b }}</td>
                        <td>{{ question.option_c }}</td>
                        <td>{{ question.option_d }}</td>
                        <td>{{ question.correct_answer }}</td>
                        <td>{{ question.subject }}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
                <table  >
                    <thead onclick="toggleTable('math-table-container')">
                        <tr>
                            <th>MATH Question</th>
                            <th>Option a</th>
                            <th>Option b</th>
                            <th>Option c</th>
                            <th>Option d</th>
                            <th>Answer</th>
                            <th>Subject</th>
                        </tr>
                    </thead>
                    <tbody id="math-table-container" style="display: none;">
                    {% for question in questions %}
                    {% if question.subject == 'MATH' %}
                    <tr onclick="goToEditPage('{{ question.id }}')">
                        <td>{{ question.text }}</td>
                        <td>{{ question.option_a }}</td>
                        <td>{{ question.option_b }}</td>
                        <td>{{ question.option_c }}</td>
                        <td>{{ question.option_d }}</td>
                        <td>{{ question.correct_answer }}</td>
                        <td>{{ question.subject }}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
                <table  >
                    <thead onclick="toggleTable('struc-table-container')">
                        <tr>
                            <th>STRUC Question</th>
                            <th>Option a</th>
                            <th>Option b</th>
                            <th>Option c</th>
                            <th>Option d</th>
                            <th>Answer</th>
                            <th>Subject</th>
                        </tr>
                    </thead>
                    <tbody id="struc-table-container" style="display: none;">
                    {% for question in questions %}
                    {% if question.subject == 'STRUC' %}
                    <tr onclick="goToEditPage('{{ question.id }}')">
                        <td>{{ question.text }}</td>
                        <td>{{ question.option_a }}</td>
                        <td>{{ question.option_b }}</td>
                        <td>{{ question.option_c }}</td>
                        <td>{{ question.option_d }}</td>
                        <td>{{ question.correct_answer }}</td>
                        <td>{{ question.subject }}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
                <table  >
                    <thead onclick="toggleTable('pwrp-table-container')">
                        <tr>
                            <th>PWRP Question</th>
                            <th>Option a</th>
                            <th>Option b</th>
                            <th>Option c</th>
                            <th>Option d</th>
                            <th>Answer</th>
                            <th>Subject</th>
                        </tr>
                    </thead>
                    <tbody id="pwrp-table-container" style="display: none;">
                    {% for question in questions %}
                    {% if question.subject == 'PWRP' %}
                    <tr onclick="goToEditPage('{{ question.id }}')">
                        <td>{{ question.text }}</td>
                        <td>{{ question.option_a }}</td>
                        <td>{{ question.option_b }}</td>
                        <td>{{ question.option_c }}</td>
                        <td>{{ question.option_d }}</td>
                        <td>{{ question.correct_answer }}</td>
                        <td>{{ question.subject }}</td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
                <script>
                    function toggleTable(tableId) {
                        const table = document.getElementById(tableId);
                        if (table.style.display === 'none') {
                            table.style.display = '';
                        } else {
                            table.style.display = 'none';
                        }
                    }
                </script>
            </div>
{% endblock %}