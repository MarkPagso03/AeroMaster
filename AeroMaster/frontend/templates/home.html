{% extends 'base.html' %}
{% load static %}
{% block link %}
    <link rel="stylesheet" href="{% static 'styles/home_page.css' %}?v={{ timestamp }}">
{% endblock %}

{% block content %}
    <div class="home">
        <h1>Examination Progress</h1>
        <div class="progress">
            <div class="progress_card">
                <h4><b>DAY 1</b></h4>
                <div class="subject_card">
                    <h5><b>AERODYNAMICS</b> - 20%</h5>
                    <p>Fundamentals of Low-High Speed
                        Aerodynamics Application of Aerodynamics to
                        Fixed/ Rotary Wiring Aircraft Configurations,
                        Performance, Stability and Control; Wind Tunnels and Application
                    </p>
                    {% if aero_setting %}
                        <button id="aero_start" onclick="window.location.href = '{% url 'mock_exam' subject='AERO' %}'">START</button>

                        <script>
                            // Get the current time
                            const currentTime = new Date();

                            // Get the exam's schedule time (convert from string to Date object)
                            const aeroSchedule = new Date("{{ aero_setting.date_time|date:'c' }}");

                            // Compare the current time with the exam's schedule time
                            if (currentTime < aeroSchedule) {
                                document.getElementById('aero_start').disabled = true;
                                document.getElementById('aero_start').classList.add('disable');
                            }
                        </script>
                    {% endif %}
                </div>

                <div class="subject_card">
                    <h5><b>Mathematics</b> - 10%</h5>
                    <p>Algebra, Trigonometry, Analytical Geometry,
                        Calculus and Differential Equation with
                        Aeronautical Engineering Applications
                    </p>
                    {% if math_setting %}
                        <button id="math_start" onclick="window.location.href = '{% url 'mock_exam' subject='MATH' %}'">START</button>

                        <script>
                            // Get the current time
                            //const currentTime = new Date();

                            // Get the exam's schedule time (convert from string to Date object)
                            const mathSchedule = new Date("{{ math_setting.date_time|date:'c' }}");

                            // Compare the current time with the exam's schedule time
                            if (currentTime < mathSchedule) {
                                document.getElementById('math_start').disabled = true;
                                document.getElementById('math_start').classList.add('disable');
                            }
                        </script>
                    {% endif %}
                </div>
            </div>

            <div class="progress_card">
                <h4><b>DAY 2</b></h4>
                <div class="subject_card">
                    <h5><b>AIRCRAFT STRUCTURES AND DESIGN</b> - 20%</h5>
                    <p>Aircraft Design Fundamentals; Structural Loading Conditions;
                        Structural Analysis and Design of Airframe Components;
                        Landing Gears, Engine Mounts and Other Structural Parts;
                        Non-Structural Components Design
                    </p>
                    {% if struc_setting %}
                        <button id="struc_start" onclick="window.location.href = '{% url 'mock_exam' subject='STRUC' %}'">START</button>

                        <script>
                            // Get the current time
                            //const currentTime = new Date();

                            // Get the exam's schedule time (convert from string to Date object)
                            const strucSchedule = new Date("{{ struc_setting.date_time|date:'c' }}");

                            // Compare the current time with the exam's schedule time
                            if (currentTime < strucSchedule) {
                                document.getElementById('struc_start').disabled = true;
                                document.getElementById('struc_start').classList.add('disable');
                            }
                        </script>
                    {% endif %}
                </div>
                <div class="subject_card">
                    <h5><b>AIRCRAFT CONSTRUCTION, REPAIR AND MODIFICATION</b> - 15%</h5>
                    <p>Aircraft Materials and Processes; Methods and Techniques
                        in Repair and Modification in accordance with Civil
                        Airworthiness Regulations; Manufacturing/Production
                        Processes and Quality Assurance
                    </p>
                    {% if acrm_setting %}
                        <button id="acrm_start" onclick="window.location.href = '{% url 'mock_exam' subject='ACRM' %}'">START</button>

                        <script>
                            // Get the current time
                            //const currentTime = new Date();

                            // Get the exam's schedule time (convert from string to Date object)
                            const acrmSchedule = new Date("{{ acrm_setting.date_time|date:'c' }}");

                            // Compare the current time with the exam's schedule time
                            if (currentTime < acrmSchedule) {
                                document.getElementById('acrm_start').disabled = true;
                                document.getElementById('acrm_start').classList.add('disable');
                            }
                        </script>
                    {% endif %}
                </div>
            </div>

            <div class="progress_card">
                <h4><b>DAY 3</b></h4>
                <div class="subject_card">
                    <h5><b>AIRCRAFT POWER PLANT</b> - 20%</h5>
                    <p>Thermodynamics and Power Plant Design and
                        Operation Fundamentals with Applications to
                        Internal Combustion Engine Reciprocation
                        Engines Aircraft Gas Turbines, Pulsejet and
                        Ramjet, Rocket Propulsion System and other
                        Aircraft Power Systems
                        <br><br>
                        schedule {{ pwrp_setting.date_time }}
                    </p>
                    {% if pwrp_setting %}
                        <button id="pwrp_start" onclick="window.location.href = '{% url 'mock_exam' subject='PWRP' %}'">START</button>

                        <script>
                            // Get the current time
                            //const currentTime = new Date();

                            // Get the exam's schedule time (convert from string to Date object)
                            const pwrpSchedule = new Date("{{ pwrp_setting.date_time|date:'c' }}");

                            // Compare the current time with the exam's schedule time
                            if (currentTime < pwrpSchedule) {
                                document.getElementById('pwrp_start').disabled = true;
                                document.getElementById('pwrp_start').classList.add('disable');
                            }
                        </script>
                    {% endif %}
                </div>
                <div class="subject_card">
                    <h5><b>ENGINEERING ECONOMICS AND MANAGEMENT LAWS AND ETHICS</b> - 15%</h5>
                    <p>Principle of Economics and Management as Applied to Aviation
                        Industry; Laws, Rules and Regulations Governing the Practice
                        of Aeronautical Engineering to include PD 1570, Rules and
                        Regulations with Code of Professional Ethics of the Board of
                        Aeronautical Engineering and others (International Aviation Laws)
                    </p>
                    {% if eemle_setting %}
                        <button id="eemle_start" onclick="window.location.href = '{% url 'mock_exam' subject='EEMLE' %}'">START</button>

                        <script>
                            // Get the current time
                            //const currentTime = new Date();

                            // Get the exam's schedule time (convert from string to Date object)
                            const eemleSchedule = new Date("{{ eemle_setting.date_time|date:'c' }}");

                            // Compare the current time with the exam's schedule time
                            if (currentTime < eemleSchedule) {
                                document.getElementById('eemle_start').disabled = true;
                                document.getElementById('eemle_start').classList.add('disable');
                            }
                        </script>
                    {% endif %}
                </div>
            </div>



        </div>
        <p>{{ exam_settings }}</p>
    </div>

{% endblock %}